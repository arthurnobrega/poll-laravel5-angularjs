<div class="row">
    <div class="col-md-8">
        <h1 ng-if="ctrl.poll">Edit Poll</h1>
        <h1 ng-if="!ctrl.poll">Add Poll</h1>
    </div>
    <div class="col-md-4 text-right">
        <br>
        <a href="#/polls">Go to user view <em>(without security)</em></a>
    </div>
</div>

<hr/>

<form name="pollForm" ng-submit="pollForm.$valid && ctrl.sendForm(ctrl.poll)" novalidate>
    <div class="form-group">
        <label for="title">Title</label>
        <input type="text" class="form-control input-lg" name="title" id="title" ng-model="ctrl.poll.title"></input>
    </div>

    <h3>Options</h3>
    <fieldset class="jumbotron">
        <div ng-repeat="option in ctrl.poll.options" class="row">
            <div class="form-group col-md-8">
                <label for="title{{$index}}">Option {{ $index + 1 }}</label>
                <input type="text" class="form-control" name="title" id="title{{$index}}" ng-model="option.text"></input>
            </div>
            <div class="form-group col-md-2">
                <label for="votes{{$index}}">Votes</label>
                <input type="text" class="form-control" name="votes" id="votes{{$index}}" ng-model="option.votes"></input>
            </div>
            <div class="form-group col-md-2">
                <label>Actions</label>
                <button type="button" class="btn btn-danger" ng-click="ctrl.poll.options.splice($index, 1)">
                    <i class="fa fa-times-circle"></i> Remove
                </button>
            </div>
        </div>
        <button type="button" class="btn btn-success" ng-click="ctrl.addOption()">Add Option</button>
    </fieldset>

    <button class="btn btn-primary btn-lg" type="submit">Save Poll</button>
</form>